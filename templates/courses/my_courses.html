{% extends "base.html" %}
{% block content %}
<h2 class="mb-4 fw-bold text-dark">My Enrolled Courses</h2>
<div class="row g-3">
  {% for enrollment in enrollments %}
  <div class="col-md-4 col-sm-6">
    <div class="card h-100 shadow-sm rounded-3 border-0 position-relative course-card">
      
      {% if enrollment.course.image %}
      <div class="card-img-container">
        <img src="{{ enrollment.course.image.url }}" class="card-img-top rounded-top-3" alt="{{ enrollment.course.title }}">
      </div>
      {% endif %}

      <div class="card-body d-flex flex-column p-3">
        <h5 class="card-title fw-semibold mb-2">{{ enrollment.course.title }}</h5>
        <p class="card-text text-muted mb-3">{{ enrollment.course.description|truncatechars:100 }}</p>
        <div class="mt-auto">
          <a href="{% url 'course_detail' enrollment.course.id %}" class="btn btn-primary w-100 btn-view-course">View Course</a>
        </div>
      </div>
    </div>
  </div>
  {% empty %}
    <p class="text-muted">You have not enrolled in any courses yet.</p>
  {% endfor %}
</div>

<style>
/* Card styling */
.course-card {
    transform: translateY(0);
    transition: transform 0.3s, box-shadow 0.3s;
}
.course-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 24px rgba(0,0,0,0.15);
}

/* Image container to control height */
.card-img-container {
    height: 180px; /* smaller image height */
    overflow: hidden;
}
.card-img-container img {
    width: 100%;
    height: 100%;
    object-fit: cover; /* crop/fit nicely */
}

/* Button styling */
.btn-view-course {
    background: linear-gradient(90deg, #4f46e5, #667eea);
    border: none;
    font-weight: 600;
    transition: background 0.3s;
}
.btn-view-course:hover {
    background: linear-gradient(90deg, #667eea, #4f46e5);
}
</style>
{% endblock %}
